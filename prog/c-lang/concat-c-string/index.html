<!DOCTYPE html>
<!--[if IE 7]><html class="ie ie7" lang="ja"><![endif]-->
<!--[if IE 8]><html class="ie ie8" lang="ja"><![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!--><html lang="ja"><!--<![endif]-->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>【C言語】文字列を連結・結合する【strcatの危険性とsnprintfの安全性】 | MaryCore</title>
<meta property="og:type" content="article"><meta property="og:site_name" content="MaryCore 言語知能総合研究所"><meta property="og:url" content="http://marycore.jp/prog/c-lang/concat-c-string/"><meta property="og:title" content="【C言語】文字列を連結・結合する【strcatの危険性とsnprintfの安全性】"><meta property="og:description" content="C言語で文字列の連結を実現する方法としては、strcat/strncat関数を用いる方法が知られています。ただしバッファオーバー・・・"><!--[if lt IE 9]><script src="http://marycore.jp/wp/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script><![endif]-->
<link rel='stylesheet' id='twentytwelve-style-css'  href='http://marycore.jp/wp/wp-content/themes/marycore/style.css?ver=4.9.9' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://marycore.jp/wp/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel="canonical" href="http://marycore.jp/prog/c-lang/concat-c-string/" />
</head>
<body class="post-template-default single single-post postid-3766 single-format-standard"><div id="page" class="hfeed site"><header id="masthead" class="site-header" role="banner"><hgroup><h1 class="site-title"><a href="http://marycore.jp/" title="ヽ( ・ω・)ノ Don&#039;t feel. THINK! ~ Presented by MaryCore ~" rel="home">MaryCore</a></h1></hgroup><nav id="site-navigation" class="main-navigation" role="navigation"><button class="menu-toggle">メニュー</button><a class="assistive-text" href="#content" title="コンテンツへ移動">コンテンツへ移動</a><div class="menu-%e3%83%a1%e3%83%8b%e3%83%a5%e3%83%bc-1-container"><ul id="menu-%e3%83%a1%e3%83%8b%e3%83%a5%e3%83%bc-1" class="nav-menu"><li id="menu-item-2763" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2763"><a title="McTap／キーボード拡張アプリ" href="http://marycore.jp/mctap/">新作ソフトウェア<sup class="badge-info-invert">New!</sup></a></li>
<li id="menu-item-515" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-515"><a title="制作したアプリ／Our Applications" href="http://marycore.jp/apps/">アプリ</a></li>
<li id="menu-item-86" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-86"><a title="サイトについて／About this site" href="http://marycore.jp/about/">サイトについて</a></li>
<li id="menu-item-87" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-87"><a title="Contact／お問い合わせ" href="http://marycore.jp/contact/">お問い合わせ</a></li>
<li id="menu-item-242" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-242"><a title="Sitemap／サイトマップ" href="http://marycore.jp/sitemap/">サイトマップ</a></li>
<li id="menu-item-3180" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3180"><a target="_blank" href="https://cse.google.com:443/cse/publicurl?cx=009489372983289696163:xjk7xgk_hm4">検索</a></li>
</ul></div></nav></header><div id="main" class="wrapper"><div style="margin-bottom: 18px; margin-bottom: 1.2857142857rem;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle slot_header_00" style="display:block" data-ad-client="ca-pub-5613714714878183" data-ad-slot="5089572954" data-ad-format="horizontal"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><div id="breadcrumb" class="breadcrumb"><div itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="http://marycore.jp/" itemprop="url"><span itemprop="title">Home</span></a> › </div><div itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="http://marycore.jp/prog/" itemprop="url"><span itemprop="title">プログラミング言語</span></a> › </div><div itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="http://marycore.jp/prog/c-lang/" itemprop="url"><span itemprop="title">C言語</span></a></div></div>
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
						<article id="post-3766" class="post-3766 post type-post status-publish format-standard hentry category-c-lang tag-tag-it-culture tag-tag-programming-technique tag-tag-programming-deal tag-tag-programming-basic tag-tag-programming-specification tag-tag-programming-detail tag-tag-programming-wisdom">
				<header class="entry-header">
									<h1 class="entry-title">【C言語】文字列を連結・結合する【strcatの危険性とsnprintfの安全性】</h1>
			
<style>.mc-social-buttons{font-family:Helvetica,Arial,sans-serif}.mc-social-buttons{margin-top:16px;margin-top:1.1428571429rem}.mc-social-buttons ul{margin:0;padding:0}.mc-social-buttons li{display:inline-block;margin:0 6px 16px 0;margin:0 0.4285714286rem 1.1428571429rem 0}.mc-social-buttons a{color:#f9f9ff;text-decoration:none}.mc-social-buttons a:visited{color:#f9f9ff}.mc-social-buttons a:hover{opacity:.7}.mc-social-button{padding:4px 6px;border-radius:3px;font-weight:700;font-size:10.5px;padding:0.2857142857rem 0.4285714286rem;border-radius:0.2142857143rem;font-size:.75rem}.a{background-color:rgba(27,149,224,0.9)}.a:after{content:'ツイート'}.c{background-color:rgba(66,103,178,0.9)}.c:after{content:'シェア'}.d{background-color:rgba(0,164,222,0.9)}.d:after{content:'Ｂ! クマ'}.e{background-color:rgba(219,68,55,0.9)}.e:after{content:'Ｇ＋'}.f{background-color:rgba(0,187,0,0.9)}.f:after{content:'LINE'}.c:before{content:"f";background-color:#f9f9ff;color:rgba(66,103,178,.9);border-radius:1px;padding:0 4px 0 6px;margin-right:3px;padding:0 0.2857142857rem 0 0.4285714286rem;margin-right:0.2142857143rem}.mc-social-buttons li:last-child{margin-right:0}@media print{.mc-social-buttons{display:none}}</style>
<div class="mc-social-buttons"><ul><li><a target="_blank" href="https://twitter.com/share?url=http%3A%2F%2Fmarycore.jp%2Fprog%2Fc-lang%2Fconcat-c-string%2F&tw_p=tweetbutton&text=%E3%80%90C%E8%A8%80%E8%AA%9E%E3%80%91%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%83%BB%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B%E3%80%90strcat%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%81%A8snprintf%E3%81%AE%E5%AE%89%E5%85%A8%E6%80%A7%E3%80%91" class="mc-social-button a" onclick="return mc_social_buttons_open(this.href,550,258)"></a></li><li><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fmarycore.jp%2Fprog%2Fc-lang%2Fconcat-c-string%2F&t=%E3%80%90C%E8%A8%80%E8%AA%9E%E3%80%91%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%83%BB%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B%E3%80%90strcat%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%81%A8snprintf%E3%81%AE%E5%AE%89%E5%85%A8%E6%80%A7%E3%80%91" class="mc-social-button c" onclick="return mc_social_buttons_open(this.href,555,365)"></a></li><li><a target="_blank" href="http://b.hatena.ne.jp/add?mode=confirm&url=http%3A%2F%2Fmarycore.jp%2Fprog%2Fc-lang%2Fconcat-c-string%2F" class="mc-social-button d" onclick="return mc_social_buttons_open(this.href,550,330)"></a></li><li><a target="_blank" href="https://plus.google.com/share?url=http%3A%2F%2Fmarycore.jp%2Fprog%2Fc-lang%2Fconcat-c-string%2F" class="mc-social-button e" onclick="return mc_social_buttons_open(this.href,400,440)"></a></li><li><a target="_blank" href="https://lineit.line.me/share/ui?url=http%3A%2F%2Fmarycore.jp%2Fprog%2Fc-lang%2Fconcat-c-string%2F" class="mc-social-button f" onclick="return mc_social_buttons_open(this.href,550,600)"></a></li></ul></div>
					</header><!-- .entry-header -->

				<div class="entry-content">
		    			<p>C言語で文字列の連結を実現する方法としては、<code class="inline-code inline-code-1">strcat</code>/<code class="inline-code inline-code-1">strncat</code>関数を用いる方法が知られています。ただしバッファオーバーフローの危険性があるため注意して利用する必要があります。</p>
<p>複数の文字列を新たな文字列として結合したい場合には<code class="inline-code inline-code-1">snprintf</code>関数の利用が最適です。</p>
<h4 id="%E7%9B%AE%E6%AC%A1">目次</h4>
<ul>
  <li><a href="#strcat%E9%96%A2%E6%95%B0%EF%BC%8Fstrncat%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E9%80%A3%E7%B5%90">strcat関数／strncat関数による文字列連結</a>（明確な方法、バッファオーバーランに注意）
    <ul>
      <li><a href="#%E5%9B%BA%E5%AE%9A%E9%95%B7%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%EF%BC%88memcpy%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E9%80%A3%E7%B5%90%EF%BC%89">固定長の文字列を連結する場合（memcpy関数による連結）</a></li>
      <li><a href="#stncat%E9%96%A2%E6%95%B0%E3%81%A8strncat%E9%96%A2%E6%95%B0%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%83%BB%E5%AE%89%E5%85%A8%E7%AD%96">stncat関数とstrncat関数の危険性・安全策</a></li>
    </ul>
  </li>
  <li><a href="#snprintf%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E7%B5%90%E5%90%88">snprintf関数による文字列結合</a>（安全、簡潔、高機能、暗黙的な切り詰めに注意）
    <ul>
      <li><a href="#NULL%E7%B5%82%E7%AB%AF%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%9B%BA%E5%AE%9A%E9%95%B7%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95">NULL終端されていない固定長の文字列を連結する方法</a></li>
      <li><a href="#%E9%80%A3%E7%B5%90%E5%85%83%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%95%B7%E3%81%95%E3%82%92%E5%8B%95%E7%9A%84%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%99%E3%82%8B">連結元の文字列の長さを動的に指定する</a></li>
      <li><a href="#snprintf%E9%96%A2%E6%95%B0%E3%81%AE%E5%AE%89%E5%85%A8%E6%80%A7%E3%83%BB%E6%B3%A8%E6%84%8F%E7%82%B9">snprintf関数の安全性・注意点</a></li>
    </ul>
  </li>
  <li><a href="#%E5%8A%A0%E7%AE%97%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%88%EF%BC%8B%EF%BC%89%E3%81%AB%E3%82%88%E3%82%8B%E7%B5%90%E5%90%88%E3%81%AB%E3%81%AF%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84">加算演算子（＋）による結合には対応していない</a>（C言語の場合）</li>
  <li><a href="#std%3A%3Astring%E3%82%92%E4%BB%8B%E3%81%97%E3%81%9F%E9%80%A3%E7%B5%90%E3%83%BB%E7%B5%90%E5%90%88">std::stringを介した連結・結合</a>（C++の冴えたやり方）</li>
</ul>
<div class="dbl-rc"><div class="content_toc content_toc_01" style="margin-bottom:18px;margin-bottom:1.2857142857rem"><style type="text/css">.slot_content_toc_01{width:300px;height:250px}@media (min-width:375px){.slot_content_toc_01{width:336px;height:280px}}@media (min-width:950px){.slot_content_toc_01{width:300px;height:250px}}@media (min-width:1075px){.slot_content_toc_01{width:336px;height:280px}}</style><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle slot_content_toc_01" style="display:block" data-ad-client="ca-pub-5613714714878183" data-ad-slot="2558316956" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><div class="content_toc content_toc_02" style="margin-bottom:18px;margin-bottom:1.2857142857rem"><style type="text/css">.slot_content_toc_02{width:300px;height:250px}@media (min-width:375px){.slot_content_toc_02{width:336px;height:280px}}@media (min-width:950px){.slot_content_toc_02{width:300px;height:250px}}@media (min-width:1075px){.slot_content_toc_02{width:336px;height:280px}}</style><ins class="adsbygoogle slot_content_toc_02" style="display:block" data-ad-client="ca-pub-5613714714878183" data-ad-slot="3352115982" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div style="clear:both"></div><style>.dbl-rc>div{width:50%;float:left}@media (max-width:950px){.dbl-rc>div:last-child{display:none}.dbl-rc>div{witdh:100%}}</style>
<h1 id="strcat%E9%96%A2%E6%95%B0%EF%BC%8Fstrncat%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E9%80%A3%E7%B5%90">strcat関数／strncat関数による文字列連結</h1>
<p><a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/#strcat" target="_blank">strcat関数</a>や<a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/#strncat" target="_blank">strncat関数</a>による文字列連結はバッファオーバーランの危険性に注意して利用する必要があります（後に解説: <a href="#stncat%E9%96%A2%E6%95%B0%E3%81%A8strncat%E9%96%A2%E6%95%B0%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%83%BB%E5%AE%89%E5%85%A8%E7%AD%96"># stncat関数とstrncat関数の危険性・安全策</a>）。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-comment">// #include &lt;string.h&gt; // strcat</span>
<span class="code-attr-type">char</span> a[4] = {<span class="code-attr-character">'a'</span>, <span class="code-attr-character">'\0'</span>}; <span class="code-attr-comment">// a: {'a', '\0', '\0', '\0'}</span>
<span class="code-attr-type">char</span> b[3] = <span class="code-attr-string">"bc"</span>;        <span class="code-attr-comment">// b: {'b', 'c', '\0'}</span>
<span class="code-attr-method">strcat</span>(a, b);            <span class="code-attr-comment">// a: {'a', 'b', 'c', '\0'}</span>
<span class="code-attr-method">puts</span>(a); <span class="code-attr-comment">// "abc"</span></code></pre>
<pre><code class="code code-2 lang-default"><span class="code-attr-comment">// #include &lt;string.h&gt; // strncat</span>
<span class="code-attr-type">char</span> a[4] = {<span class="code-attr-character">'a'</span>, <span class="code-attr-character">'\0'</span>}; <span class="code-attr-comment">// a: {'a', '\0', '\0', '\0'}</span>
<span class="code-attr-method">strncat</span>(a, <span class="code-attr-string">"bcdefg"</span>, 2); <span class="code-attr-comment">// a: {'a', 'b', 'c', '\0'}</span>
<span class="code-attr-method">puts</span>(a); <span class="code-attr-comment">// "abc"</span></code></pre>
<p><a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/#strcat" target="_blank">strcat関数</a>は、第一引数に指定された文字列の末尾（ナル文字<code class="inline-code inline-code-1">'\0'</code>が最初に出現する位置）に、第二引数に指定された新たな文字列を追加する関数です。<a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/#strncat" target="_blank">strncat関数</a>の場合は第三引数に追加する文字列の長さを指定することができます。</p>
<p>結合用の空配列を用いる場合には事前にゼロ初期化が必要となります。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> s[3] = {<span class="code-attr-character">'\0'</span>}; <span class="code-attr-comment">// s: {'\0', '\0', '\0'} // ゼロ初期化</span>
<span class="code-attr-method">strcat</span>(s, <span class="code-attr-string">"a"</span>);     <span class="code-attr-comment">// s: {'a' , '\0', '\0'}</span>
<span class="code-attr-method">strcat</span>(s, <span class="code-attr-string">"b"</span>);     <span class="code-attr-comment">// s: {'a' , 'b' , '\0'}</span></code></pre>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> s[4] = {<span class="code-attr-character">'\0'</span>, <span class="code-attr-character">'_'</span>, <span class="code-attr-character">'_'</span>, <span class="code-attr-character">'_'</span>};
<span class="code-attr-method">strncat</span>(s, <span class="code-attr-string">"ab"</span>, 1); <span class="code-attr-comment">// s: {'a', '\0', '_', '_' }</span>
<span class="code-attr-method">strncat</span>(s, <span class="code-attr-string">"cd"</span>, 2); <span class="code-attr-comment">// s: {'a', 'c' , 'd', '\0'}</span></code></pre>
<p>ゼロ初期化を行わない場合には、配列の先頭要素をゼロ初期化するか（<code class="inline-code inline-code-1">s[0] = '\0';</code>）、または<a href="http://marycore.jp/prog/c-lang/string-strcpy-strncpy/#strcpy" target="_blank">strcpy関数</a>を用いて文字列を先頭位置へとコピーする必要があります。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-comment">// #include &lt;string.h&gt; // strcpy</span>
<span class="code-attr-type">char</span> s[3];          <span class="code-attr-comment">// s: {'_', '_' , '_' } // 不定な値</span>
<span class="code-attr-method">strcpy</span>(s, <span class="code-attr-string">"a"</span>);     <span class="code-attr-comment">// s: {'a', '\0', '_' }</span>
<span class="code-attr-method">strcat</span>(s, <span class="code-attr-string">"b"</span>);     <span class="code-attr-comment">// s: {'a', 'b' , '\0'}</span></code></pre>
<h2 id="%E5%9B%BA%E5%AE%9A%E9%95%B7%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%EF%BC%88memcpy%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E9%80%A3%E7%B5%90%EF%BC%89">固定長の文字列を連結する場合（memcpy関数による連結）</h2>
<p>NULL終端されていない固定長の文字配列を連結する場合には、strcat関数やstrcpy関数を用いることができないため、代わりに<code class="inline-code inline-code-1">memcpy</code>関数を用いる必要があります。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-comment">// #include &lt;string.h&gt; // memcpy</span>
<span class="code-attr-type">char</span> a[2] = {<span class="code-attr-character">'A'</span>, <span class="code-attr-character">'a'</span>};
<span class="code-attr-type">char</span> b[2] = {<span class="code-attr-character">'B'</span>, <span class="code-attr-character">'b'</span>};
<span class="code-attr-type">char</span> s[5];           <span class="code-attr-comment">// s: {'_', '_', '_', '_', '_'}（不定な値）</span>
<span class="code-attr-method">memcpy</span>(s    , a, 2); <span class="code-attr-comment">// s: {'A', 'a', '_', '_', '_'}</span>
<span class="code-attr-method">memcpy</span>(s + 2, b, 2); <span class="code-attr-comment">// s: {'A', 'a', 'B' ,'b', '_'}</span>

s[4] = <span class="code-attr-character">'\0'</span>; <span class="code-attr-comment">// 必要に応じてNULL終端する</span>
<span class="code-attr-method">puts</span>(s); <span class="code-attr-comment">// "AaBb"</span></code></pre>
<p>memcpy関数の第一引数には書き込み先のバッファを指定します。第二引数には書き込む文字列、第三引数には書き込みたい長さを指定します。二回目以降の書き込みでは<code class="inline-code inline-code-1">s + 2</code>や<code class="inline-code inline-code-1">&amp;s[2]</code>という形で、書き込み開始位置のオフセットを明示する必要があります。</p>
<p>なおmemcpy関数はNULL終端を行わないため、必要に応じてナル文字（<code class="inline-code inline-code-1">'\0'</code>）による終端処理を行います。</p>
<h2 id="stncat%E9%96%A2%E6%95%B0%E3%81%A8strncat%E9%96%A2%E6%95%B0%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%83%BB%E5%AE%89%E5%85%A8%E7%AD%96">stncat関数とstrncat関数の危険性・安全策</h2>
<p><code class="inline-code inline-code-1">strcat</code>関数はバッファオーバーランの危険性があるため注意して利用する必要があります。連結先文字列と連結元文字列の両サイズの合計が連結先文字列のバッファーサイズを上回った場合に、余計な書き込みが発生してしまいます。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> a[2] = {<span class="code-attr-character">'\0'</span>, <span class="code-attr-character">'\0'</span>};
<span class="code-attr-method">strcat</span>(a, <span class="code-attr-string">"abc"</span>);
<span class="code-attr-comment">// a == {'a', 'b', 'c', '\0'} // 2バイト分余計に書き込まれてしまう</span></code></pre>
<p>より安全な対策方法としては、連結後のサイズを事前に計算し、安全な長さの場合にのみ実際の連結処理を行うようにすることです。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> a[4] = {<span class="code-attr-character">'a'</span>, <span class="code-attr-character">'\0'</span>};
<span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *b = <span class="code-attr-string">"bc"</span>;

<span class="code-attr-keyword">if</span> (<span class="code-attr-method">strlen</span>(a) + <span class="code-attr-method">strlen</span>(b) &lt; 4) {
   <span class="code-attr-method">strcat</span>(a, b);
} <span class="code-attr-keyword">else</span> {
   <span class="code-attr-method">printf</span>(<span class="code-attr-string">"余計な長さの文字列を連結しようとしています"</span>);
   <span class="code-attr-method">printf</span>(<span class="code-attr-string">"十分なバッファサイズが確保されていません"</span>);
}</code></pre>
<p>なお<code class="inline-code inline-code-1">strncat</code>関数は<code class="inline-code inline-code-1">strcat</code>関数の安全版では無い点に注意が必要です。第三引数は書き込み可能な長さではなく、書き込み元の文字列の長さを表します。strncat関数を用いる場合には、余計に追加される終端NULL文字の分を考慮し、配列のバッファを大きめに確保したり、または第三引数の長さを一文字分小さめに指定したり、strcat関数の時と同様に連結後の文字列長さを事前計算したりする必要があります。</p>
<pre class="alert alert-2">参考：<a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/#strncat%E9%96%A2%E6%95%B0%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%81%A8%E5%AF%BE%E7%AD%96" target="_blank">strncat関数 #strncat関数の危険性と対策</a></pre>
<h1 id="snprintf%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E7%B5%90%E5%90%88">snprintf関数による文字列結合</h1>
<p>snprintf関数はフォーマット用の関数ですが、文字列の連結用途としても活用することができます。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-comment">// #include &lt;stdio.h&gt; // snprintf</span>
<span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *a = <span class="code-attr-string">"a"</span>, *b = <span class="code-attr-string">"b"</span>; <span class="code-attr-comment">// 連結したい文字列</span>

<span class="code-attr-type">char</span> s[3];                     <span class="code-attr-comment">// 連結先の配列</span>
<span class="code-attr-method">snprintf</span>(s, 3, <span class="code-attr-string">"%s%s"</span>, a, b);  <span class="code-attr-comment">// 連結</span>

<span class="code-attr-comment">// s == {'a', 'b', '\0'}</span>
<span class="code-attr-method">printf</span>(<span class="code-attr-string">"%s"</span>, s); <span class="code-attr-comment">// "ab"</span></code></pre>
<p>第一引数に書き込み先の配列、第二引数に書き込み可能な長さを指定します。第三引数にはprintf関数と同等のフォーマット文字列を指定します。第四引数以降には実際に連結したい文字列を指定します。</p>
<p>なお第二引数に指定された長さを超えた書き込みは発生しません。また書き込み先のバッファは常にNULL文字で終端処理されます。</p>
<p>ちなみにsnprintf関数は様々な型のフォーマットが可能となっているため、数値との連結や、空白やカンマによる連結、３つ以上の文字列連結など、より柔軟な文字列連結が可能となっています。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> s[8];
<span class="code-attr-method">snprintf</span>(s, 8, <span class="code-attr-string">"%s %d"</span>, <span class="code-attr-string">"Shop"</span>, 99);
<span class="code-attr-method">puts</span>(s); <span class="code-attr-comment">// "Shop 99"</span></code></pre>
<h2 id="NULL%E7%B5%82%E7%AB%AF%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%9B%BA%E5%AE%9A%E9%95%B7%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95">NULL終端されていない固定長の文字列を連結する方法</h2>
<p>NULL終端されていない文字列を連結する場合には、フォーマット文字列中の変換指定子に対して配列の長さを明示する必要があります（例: <code class="inline-code inline-code-1">%.2s</code>）。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> a[2] = {<span class="code-attr-character">'a'</span>, <span class="code-attr-character">'b'</span>}; <span class="code-attr-comment">// NULL終端されていない固定長の文字列</span>
<span class="code-attr-type">char</span> b[3] = {<span class="code-attr-character">'c'</span>, <span class="code-attr-character">'d'</span>, <span class="code-attr-character">'e'</span>};

<span class="code-attr-type">char</span> s[6] = {<span class="code-attr-character">'-'</span>, <span class="code-attr-character">'-'</span>, <span class="code-attr-character">'-'</span>, <span class="code-attr-character">'-'</span>, <span class="code-attr-character">'-'</span>, <span class="code-attr-character">'-'</span>};
<span class="code-attr-method">snprintf</span>(s, 6, <span class="code-attr-string">"%.2s%.2s"</span>, a, b);

<span class="code-attr-method">puts</span>(s); <span class="code-attr-comment">// "abcd" （5文字目はNULL終端される）</span>
<span class="code-attr-comment">// s == {'a', 'b', 'c', 'd', '\0', '-'}</span></code></pre>
<p>snprintf関数の特性により、書き込み先のバッファには自動的にナル文字（<code class="inline-code inline-code-1">'\0'</code>）が書き込まれるため注意してください。NULL終端が不要な場合には、memcpy関数による連結が必要となります（<a href="#%E5%9B%BA%E5%AE%9A%E9%95%B7%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E9%80%A3%E7%B5%90%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%EF%BC%88memcpy%E9%96%A2%E6%95%B0%E3%81%AB%E3%82%88%E3%82%8B%E9%80%A3%E7%B5%90%EF%BC%89"># 固定長の文字列を連結する場合（memcpy関数による連結）</a>）。</p>
<h2 id="%E9%80%A3%E7%B5%90%E5%85%83%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%95%B7%E3%81%95%E3%82%92%E5%8B%95%E7%9A%84%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%99%E3%82%8B">連結元の文字列の長さを動的に指定する</h2>
<p>配列のサイズを動的に指定したい場合には、変換指定子の幅に<code class="inline-code inline-code-1">*</code>を指定し（<code class="inline-code inline-code-1">%.*s</code>）、実際の幅をsnprintf関数の実引数に指定します。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> a[] = {<span class="code-attr-character">'C'</span>, <span class="code-attr-character">'C'</span>}; <span class="code-attr-comment">// sizeof(a) == 2</span>
<span class="code-attr-type">char</span> b[] = <span class="code-attr-string">"CURRY&amp;"</span>;   <span class="code-attr-comment">// strlen(b) == 6</span>

<span class="code-attr-type">char</span> s[9];
<span class="code-attr-method">snprintf</span>(s, 9, <span class="code-attr-string">"%.*s %.*s"</span>, 2, a, (<span class="code-attr-type">int</span>)<span class="code-attr-method">strlen</span>(b), b);

<span class="code-attr-method">puts</span>(s); <span class="code-attr-comment">// "CC CURRY"</span>
         <span class="code-attr-comment">// バッファサイズ9が優先され'&amp;'は切り捨てられる</span></code></pre>
<h2 id="snprintf%E9%96%A2%E6%95%B0%E3%81%AE%E5%AE%89%E5%85%A8%E6%80%A7%E3%83%BB%E6%B3%A8%E6%84%8F%E7%82%B9">snprintf関数の安全性・注意点</h2>
<p>snprintf関数の第三引数には書き込み先文字列のバッファサイズを指定することができるため、万が一想定外の長さの文字列を指定してしまっても、余計な書き込みによるバッファオーバーランが発生しません。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> s[3];
<span class="code-attr-method">snprintf</span>(s, 3, <span class="code-attr-string">"%s%s"</span>, <span class="code-attr-string">"a"</span>, <span class="code-attr-string">"bcd"</span>); <span class="code-attr-comment">// 余分な長さの文字列を追加しても</span>
<span class="code-attr-method">printf</span>(<span class="code-attr-string">"%s"</span>, s); <span class="code-attr-comment">// "ab"            // バッファオーバーフローが発生しない</span></code></pre>
<p>ただし、文字列連結時におけるsnprintf関数の利用は、あくまで万が一の場合の予防策に過ぎません。超過した分の文字列は暗黙の内に切り捨てられる事になるため、このことが逆に別の新たな問題やバグを引き起こすことに繋がる恐れがあります。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *cmd = <span class="code-attr-string">"rm *.txt"</span>; <span class="code-attr-comment">// テキストファイルのみを削除するコマンド</span>
<span class="code-attr-type">char</span> s[5];
<span class="code-attr-method">snprintf</span>(s, 5, <span class="code-attr-string">"%s"</span>, cmd);
<span class="code-attr-method">puts</span>(s); <span class="code-attr-comment">// "rm *" // すべてのファイルを削除するコマンド</span></code></pre>
<p>この場合、「<a href="#stncat%E9%96%A2%E6%95%B0%E3%81%A8strncat%E9%96%A2%E6%95%B0%E3%81%AE%E5%8D%B1%E9%99%BA%E6%80%A7%E3%83%BB%E5%AE%89%E5%85%A8%E7%AD%96"># stncat関数とstrncat関数の危険性・安全策</a>」で紹介した例のように、連結後の長さと連結先のバッファサイズを事前にチェックすることが求められます。なおその際には、処理の目的を明確化するために、snprintf関数ではなくstncat関数／strncat関数を用いて文字列連結を行うのも良いでしょう。</p>
<h1 id="%E5%8A%A0%E7%AE%97%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%88%EF%BC%8B%EF%BC%89%E3%81%AB%E3%82%88%E3%82%8B%E7%B5%90%E5%90%88%E3%81%AB%E3%81%AF%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84">加算演算子（＋）による結合には対応していない</h1>
<p>なお、C言語の文字列型（<code class="inline-code inline-code-1">const char *</code>）や文字配列（<code class="inline-code inline-code-1">char []</code>）は、加算演算子（<code class="inline-code inline-code-1">+</code>）による文字列結合が行えません。C言語の文字列は配列やポインタで表現されているため、文字列だけ特別扱いというわけにはいかないのです。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-comment">// 連結演算子には対応していない</span>
<span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *a = <span class="code-attr-string">"a"</span>, *b = <span class="code-attr-string">"b"</span>;
<span class="code-attr-type">char</span> *c = a + b; <span class="code-attr-comment">// error: invalid operands to binary expression ('const char *' and 'const char *')</span>

<span class="code-attr-comment">// 結合代入演算子にも対応していない</span>
<span class="code-attr-type">char</span> s[] = <span class="code-attr-string">"a"</span>;
s += <span class="code-attr-string">"b"</span>; <span class="code-attr-comment">// error: Invalid operands to binary expression ('char [2]' and 'const char *')</span></code></pre>
<p>なお文字列リテラル同士であれば、両定数を並べるだけで連結が行われます。ただしこの連結はあくまでコンパイル時に行われるものです。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *c = <span class="code-attr-string">"a"</span> <span class="code-attr-string">"b"</span> <span class="code-attr-string">"c"</span>; <span class="code-attr-comment">// c === "abc"</span>
<span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *q = <span class="code-attr-string">"select * "</span>
                <span class="code-attr-string">"from user "</span>;</code></pre>
<p>なお、C++の文字列型（<code class="inline-code inline-code-1">std::string</code>）は<code class="inline-code inline-code-1">+</code>演算子や<code class="inline-code inline-code-1">+=</code>演算子に対応しているため、文字列の連結や結合を行うことが可能となっています。次項を参考にしてください。</p>
<h1 id="std%3A%3Astring%E3%82%92%E4%BB%8B%E3%81%97%E3%81%9F%E9%80%A3%E7%B5%90%E3%83%BB%E7%B5%90%E5%90%88">std::stringを介した連結・結合</h1>
<p>C++スタイルの文字列型（<code class="inline-code inline-code-1">std::string</code>）を介することで、文字列同士の安全な連結処理や結合処理を実現することもできます。メモリの動的確保が発生する場合がありますが、自前で処理するよりは安全な方法となります。</p>
<pre><code class="code code-2 lang-default"><span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *a = <span class="code-attr-string">"a"</span>;
<span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *b = <span class="code-attr-string">"b"</span>;
<span class="code-attr-label">std</span>::<span class="code-attr-object">string</span> s = <span class="code-attr-label">std</span>::<span class="code-attr-method">string</span>(a) + b; <span class="code-attr-comment">// 結合</span>
<span class="code-attr-keyword">const</span> <span class="code-attr-type">char</span> *c = s.<span class="code-attr-method">c_str</span>(); <span class="code-attr-comment">// const char *型の文字列として参照</span>
<span class="code-attr-method">puts</span>(c);                   <span class="code-attr-comment">// "ab"（C言語のAPIで処理できる）</span></code></pre>
<pre><code class="code code-2 lang-default"><span class="code-attr-type">char</span> a[] = {<span class="code-attr-character">'-'</span>, <span class="code-attr-character">'z'</span>};

<span class="code-attr-comment">// 固定長配列の結合にも対応（第二引数に配列のサイズを指定）</span>
<span class="code-attr-label">std</span>::<span class="code-attr-object">string</span> s = <span class="code-attr-label">std</span>::<span class="code-attr-object">string</span>{<span class="code-attr-character">'a'</span>} + <span class="code-attr-label">std</span>::<span class="code-attr-method">string</span>(a, 2);
<span class="code-attr-method">puts</span>(s.<span class="code-attr-method">c_str</span>()); <span class="code-attr-comment">// "a-z"</span>

<span class="code-attr-comment">// より効率的な連結処理</span>
<span class="code-attr-label">std</span>::<span class="code-attr-object">string</span> t = <span class="code-attr-string">"a"</span>;
t.<span class="code-attr-method">append</span>(a, 2);
<span class="code-attr-method">puts</span>(t.<span class="code-attr-method">c_str</span>()); <span class="code-attr-comment">// "a-z"（連結先のオブジェクトが直接書き換わる）</span></code></pre>
<pre class="alert alert-2">参考：<a href="http://marycore.jp/prog/cpp/concat-append-string/" target="_blank">C++ 文字列の連結と結合</a></pre>
<p><code class="inline-code inline-code-1">c_str</code>はC言語スタイルの文字列を参照するための関数です。c_str関数の戻り値の有効期限はstd::string型の一時変数の寿命に依存するため注意が必要です。またc_strの結果を書き換えることはできません。std::stringオブジェクトの値や状態を変更した場合、c_strで取得していた文字列は不定なものとなります。<code class="inline-code inline-code-1">const char *</code>型の連結結果を永続的に保持したい場合は、文字列を手動でコピーする必要があります。</p>
<pre class="alert alert-2">参考：<a href="http://marycore.jp/prog/cpp/convert-string-to-char/#std%3A%3Astring%20%E2%86%92%20const%20char%2A" target="_blank">C++の文字列をC言語の文字列に変換／コピーする方法</a></pre>					</div><!-- .entry-content -->
				
		<div><div style="font-size:90%;margin-bottom:5px;line-height:1.714285714">広告</div><style type="text/css">.slot_footer{width:300px;height:250px}@media (min-width:375px){.slot_footer{width:336px;height:280px}}@media (min-width:950px){.slot_footer{width:300px;height:250px}}@media (min-width:1075px){.slot_footer{width:336px;height:280px}}</style><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle slot_footer" style="display:block" data-ad-client="ca-pub-5613714714878183" data-ad-slot="6809444154" data-ad-format="auto"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div>				
		<footer class="entry-meta" style="float: right;">
			カテゴリー: <a href="http://marycore.jp/prog/c-lang/" rel="category tag">C言語</a> | タグ: <a href="http://marycore.jp/tag/tag-it-culture/" rel="tag">IT教養</a>, <a href="http://marycore.jp/tag/tag-programming-technique/" rel="tag">テクニック</a>, <a href="http://marycore.jp/tag/tag-programming-deal/" rel="tag">問題対処</a>, <a href="http://marycore.jp/tag/tag-programming-basic/" rel="tag">基礎知識</a>, <a href="http://marycore.jp/tag/tag-programming-specification/" rel="tag">言語仕様</a>, <a href="http://marycore.jp/tag/tag-programming-detail/" rel="tag">詳細解説</a>, <a href="http://marycore.jp/tag/tag-programming-wisdom/" rel="tag">豆知識</a> | 投稿日: <a href="http://marycore.jp/prog/c-lang/concat-c-string/" title="01:15" rel="bookmark"><time class="entry-date" datetime="2017-12-18T01:15:20+00:00">2017.12.18</time></a><span class="updated"> | 更新日: <a href="http://marycore.jp/prog/c-lang/concat-c-string/" title="12:35" rel="bookmark"><time class="updated" datetime="2018-11-29T12:35:49+00:00">2018.11.29</time></a></span> | <span class="by-author">投稿者: <span class="author vcard" itemprop="author"><a class="url fn n" href="http://marycore.jp/author/marycore/" title="MaryCore の投稿をすべて表示" rel="author">MaryCore</a></span></span>								</footer><!-- .entry-meta -->
		<div style="clear: both;"></div>
	</article><!-- #post -->
	
				<nav class="nav-single">
					<h3 class="assistive-text">投稿ナビゲーション</h3>
					<span class="nav-previous"><a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/" rel="prev"><span class="meta-nav">&larr;</span> 【C言語】strcat関数／strncat関数【完全解説｜危険性と注意点】</a></span>
					<span class="nav-next"><a href="http://marycore.jp/prog/c-lang/string-strcpy-strncpy/" rel="next">【C言語】strcpy関数／strncpy関数【詳解｜危険性と注意点 strlcpyの脆弱性】 <span class="meta-nav">&rarr;</span></a></span>
				</nav><!-- .nav-single -->

				<div class="matched_content" style="margin: 16px 0; margin: 1.2857142857rem 0;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-5613714714878183" data-ad-slot="5313922550"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div>
				
<div id="comments" class="comments-area">

	
	
	
</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
						<aside id="categoryrecents-2" class="widget mc_widget_category_recent_entries"><h3 class="widget-title">C言語</h3><ul><li><a href="http://marycore.jp/prog/c-lang/convert-number-to-binary-octal-decimal-hex-c-string/">数値を 2進数 8進数 10進数 16進数 文字列に変換する方法</a></li><li><a href="http://marycore.jp/prog/c-lang/copy-c-string/">文字列をコピーする方法【危険なstrcpy関数と安全な文字列複製】</a></li><li><a href="http://marycore.jp/prog/c-lang/string-strcpy-strncpy/">strcpy関数／strncpy関数【詳解｜危険性と注意点 strlcpyの脆弱性】</a></li><li><a href="http://marycore.jp/prog/c-lang/concat-c-string/">文字列を連結・結合する【strcatの危険性とsnprintfの安全性】</a></li><li><a href="http://marycore.jp/prog/c-lang/string-strcat-strncat/">strcat関数／strncat関数【完全解説｜危険性と注意点】</a></li><li><a href="http://marycore.jp/prog/c-lang/typedef-struct/">typedef struct による構造体の定義｜一般的な宣言との違いや目的</a></li><li><a href="http://marycore.jp/prog/c-lang/compound-literal/">複合リテラル【完全解説、生存期間、注意点、構造体／配列リテラル】</a></li><li><a href="http://marycore.jp/prog/c-lang/printf-format-substring/">文字列の一部を表示する｜部分文字列の出力【printf substringイディオム】</a></li><li><a href="http://marycore.jp/prog/c-lang/modulo-floating-point-number/">fmod関数｜float/double型の割り算の余りを求める方法【浮動小数点数の剰余】</a></li><li><a href="http://marycore.jp/prog/c-lang/convert-binary-octal-decimal-hex-string-to-number/">2進数 8進数 10進数 16進数 文字列を数値に変換する方法</a></li></ul><p class="mc_widget_category_recent_entries_more"><a href="http://marycore.jp/prog/c-lang/page/2/" target="_blank">もっと見る...</a></p></aside><aside id="text-3" class="widget widget_text"><h3 class="widget-title">スポンサーリンク</h3>			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<style type="text/css">
@media (min-width:600px) { .adslot_side { width: 160px; }
@media (min-width:1000px) { .adslot_side { width: 300px; } }</style>
<ins class="adsbygoogle adslot_side" style="display:block" data-ad-client="ca-pub-5613714714878183" data-ad-slot="8227805750" data-ad-format="auto"></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div>
		</aside>		<aside id="mc-recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">最近の投稿</h3>		<ul>
											<li>
					<a href="http://marycore.jp/net/twitter-tips-special/">ツイッター表現辞典｜番外編【なう、にゃーん、尊い、その他の表現】</a>
									</li>
											<li>
					<a href="http://marycore.jp/anime/wizardbarristers/">ウィザード・バリスターズ～弁魔士セシル【アニメ紹介・レビュー・感想】</a>
									</li>
											<li>
					<a href="http://marycore.jp/society/bruised-princess/">プリンセス駅伝の感動ドラマに得体の知れない恐怖を感じた</a>
									</li>
											<li>
					<a href="http://marycore.jp/irony/choco-freak/">森永チョコフレークと日清シスコを食べ比べたオタクの感想</a>
									</li>
											<li>
					<a href="http://marycore.jp/prog/c-lang/convert-number-to-binary-octal-decimal-hex-c-string/">【C言語】数値を 2進数 8進数 10進数 16進数 文字列に変換する方法</a>
									</li>
											<li>
					<a href="http://marycore.jp/prog/cpp/convert-number-to-binary-octal-decimal-hex-string/">C++ 数値を 2進数 8進数 10進数 16進数 文字列に変換する方法</a>
									</li>
											<li>
					<a href="http://marycore.jp/irony/mawaru-takaya/">ラーメン店「回高屋」の読み方は？ 店舗数は？ チェーン店って本当？</a>
									</li>
											<li>
					<a href="http://marycore.jp/think/human-rights-first/">レディーファーストは女性差別なのか｜盲目的善意と慈悲的差別</a>
									</li>
											<li>
					<a href="http://marycore.jp/prog/php/call-to-undefined-function/">【PHP】Fatal error: Call to undefined function f() の原因と対処</a>
									</li>
											<li>
					<a href="http://marycore.jp/society/tokyo-volunteer-revolution/">五輪ボランティア批判と格差社会への不満｜オリンピックやりがい搾取</a>
									</li>
					</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">カテゴリー</h3>		<ul>
	<li class="cat-item cat-item-31"><a href="http://marycore.jp/prog/cpp/" >C++</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://marycore.jp/prog/cocoa/" >Cocoa</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://marycore.jp/prog/c-lang/" >C言語</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://marycore.jp/affiliate/adsense/" >Googleアドセンス</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://marycore.jp/prog/css/" >HTML/CSS</a>
</li>
	<li class="cat-item cat-item-57"><a href="http://marycore.jp/prog/js/" >JavaScript</a>
</li>
	<li class="cat-item cat-item-13"><a href="http://marycore.jp/prog/mamp/" >MAMP</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://marycore.jp/news/" >News</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://marycore.jp/prog/objective-c/" >Objective-C</a>
</li>
	<li class="cat-item cat-item-62"><a href="http://marycore.jp/prog/php/" >PHP</a>
</li>
	<li class="cat-item cat-item-53"><a href="http://marycore.jp/prog/ruby/" >Ruby</a>
</li>
	<li class="cat-item cat-item-23"><a href="http://marycore.jp/prog/swift/" >Swift</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://marycore.jp/wordpress/" >WordPress</a>
</li>
	<li class="cat-item cat-item-18"><a href="http://marycore.jp/prog/xcode/" >Xcode &amp; Clang</a>
</li>
	<li class="cat-item cat-item-55"><a href="http://marycore.jp/code/" >コード</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://marycore.jp/design/" >デザイン</a>
</li>
	<li class="cat-item cat-item-56"><a href="http://marycore.jp/net/" >ネット文化</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://marycore.jp/mac/" >パソコン・Mac</a>
</li>
	<li class="cat-item cat-item-41"><a href="http://marycore.jp/programmer/" >プログラマ</a>
</li>
	<li class="cat-item cat-item-25"><a href="http://marycore.jp/coding/" >プログラミング／コーディング</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://marycore.jp/smart/" >ライフハック</a>
</li>
	<li class="cat-item cat-item-50"><a href="http://marycore.jp/ascii-art/" >今週のAA</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://marycore.jp/yurume/" >今週の一言</a>
</li>
	<li class="cat-item cat-item-64"><a href="http://marycore.jp/works/" >創作</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://marycore.jp/irony/" >戯言</a>
</li>
	<li class="cat-item cat-item-49"><a href="http://marycore.jp/essay/" >日記・雑文</a>
</li>
	<li class="cat-item cat-item-45"><a href="http://marycore.jp/anime/" >漫画・アニメ</a>
</li>
	<li class="cat-item cat-item-27"><a href="http://marycore.jp/society/" >社会</a>
</li>
	<li class="cat-item cat-item-58"><a href="http://marycore.jp/think/" >考察</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://marycore.jp/language/" >言語</a>
</li>
	<li class="cat-item cat-item-59"><a href="http://marycore.jp/music/" >音楽</a>
</li>
		</ul>
</aside><aside id="tag_cloud-2" class="widget widget_tag_cloud"><h3 class="widget-title">タグ</h3><div class="tagcloud"><a href="http://marycore.jp/tag/tag-it-culture/" class="tag-cloud-link tag-link-63 tag-link-position-1" style="font-size: 12.745762711864pt;" aria-label="IT教養 (29個の項目)">IT教養</a>
<a href="http://marycore.jp/tag/tag-programming-technique/" class="tag-cloud-link tag-link-36 tag-link-position-2" style="font-size: 17.847457627119pt;" aria-label="テクニック (80個の項目)">テクニック</a>
<a href="http://marycore.jp/tag/tag-programming-neta/" class="tag-cloud-link tag-link-29 tag-link-position-3" style="font-size: 16.661016949153pt;" aria-label="ネタ (63個の項目)">ネタ</a>
<a href="http://marycore.jp/tag/tag-marketing/" class="tag-cloud-link tag-link-51 tag-link-position-4" style="font-size: 8pt;" aria-label="マーケティング (11個の項目)">マーケティング</a>
<a href="http://marycore.jp/tag/tag-review/" class="tag-cloud-link tag-link-61 tag-link-position-5" style="font-size: 13.457627118644pt;" aria-label="レビュー (34個の項目)">レビュー</a>
<a href="http://marycore.jp/tag/tag-programming-deal/" class="tag-cloud-link tag-link-43 tag-link-position-6" style="font-size: 18.322033898305pt;" aria-label="問題対処 (89個の項目)">問題対処</a>
<a href="http://marycore.jp/tag/tag-programming-basic/" class="tag-cloud-link tag-link-38 tag-link-position-7" style="font-size: 20.576271186441pt;" aria-label="基礎知識 (137個の項目)">基礎知識</a>
<a href="http://marycore.jp/tag/tag-tech-essay/" class="tag-cloud-link tag-link-52 tag-link-position-8" style="font-size: 16.067796610169pt;" aria-label="技術エッセイ (56個の項目)">技術エッセイ</a>
<a href="http://marycore.jp/tag/tag-tech-column/" class="tag-cloud-link tag-link-34 tag-link-position-9" style="font-size: 16.779661016949pt;" aria-label="技術コラム (65個の項目)">技術コラム</a>
<a href="http://marycore.jp/tag/tag-society/" class="tag-cloud-link tag-link-48 tag-link-position-10" style="font-size: 14.28813559322pt;" aria-label="文化社会 (40個の項目)">文化社会</a>
<a href="http://marycore.jp/tag/tag-programming-methodology/" class="tag-cloud-link tag-link-39 tag-link-position-11" style="font-size: 17.491525423729pt;" aria-label="方法論 (75個の項目)">方法論</a>
<a href="http://marycore.jp/tag/tag-daily/" class="tag-cloud-link tag-link-47 tag-link-position-12" style="font-size: 13.813559322034pt;" aria-label="日常 (36個の項目)">日常</a>
<a href="http://marycore.jp/tag/tag-future/" class="tag-cloud-link tag-link-32 tag-link-position-13" style="font-size: 13.338983050847pt;" aria-label="未来考察 (33個の項目)">未来考察</a>
<a href="http://marycore.jp/tag/tag-programming-specification/" class="tag-cloud-link tag-link-42 tag-link-position-14" style="font-size: 19.627118644068pt;" aria-label="言語仕様 (115個の項目)">言語仕様</a>
<a href="http://marycore.jp/tag/tag-programming-detail/" class="tag-cloud-link tag-link-37 tag-link-position-15" style="font-size: 22pt;" aria-label="詳細解説 (182個の項目)">詳細解説</a>
<a href="http://marycore.jp/tag/tag-programming-wisdom/" class="tag-cloud-link tag-link-40 tag-link-position-16" style="font-size: 21.050847457627pt;" aria-label="豆知識 (151個の項目)">豆知識</a></div>
</aside><aside id="text-4" class="widget widget_text"><h3 class="widget-title">自作アプリ</h3>			<div class="textwidget"><h4 class="widget-sub-title">キーボード拡張アプリ</h4>
<div style="margin-left: 12px; margin-left: 0.8571428571rem;"><a href="http://marycore.jp/mctap/" target="_blank">McTap</a></div>
<h4 class="widget-sub-title">テキストエディタ</h4>
<div style="margin-left: 12px; margin-left: 0.8571428571rem; margin-bottom: 6px; margin-bottom: 0.4285714286rem;"><a href="http://marycore.jp/apps/" target="_blank">McEditor</a></div></div>
		</aside><aside id="text-7" class="widget widget_text"><h3 class="widget-title">寄付・支援</h3>			<div class="textwidget"><div style="margin:0 0 8px 0"><span>Amazon: </span><a class="inline-code-1" style="padding:4px 8px" href="http://goo.gl/R1E6WB" target="_blank">ほしい物リスト</a> <a class="inline-code-1" style="padding:4px 8px" href="http://goo.gl/8NYx4T" target="_blank">干し芋のリスト</a></div>
<div style="margin:0 0 12px 0"><span>Bitcoin: <code class="inline-code inline-code-2 our-bitcoin-address" style="padding:4px 8px">32dzgrtFGQ1jDphJcu9iFozujbQ2JKYDXs</code></span></div>
<div style="margin:0 0 8px 0"><a href="https://bitflyer.jp/?bf=q1by3zso" target="_blank"><img style="border-radius: unset; padding: 18px; background-color: #fff;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAB1AQAAAABYf5MRAAAAtElEQVR4AZzHoWEEQRTFMMNj7r/LB5c5JA38EROAUivgd75lGmQ9HJ2MKb7dhfR+pz2+VGha9wP+A+6vQh1W3/kmABvQ7/x0UqOx+yFwlOj9Rkk02P2Jk4i273zaGujQ3/3OaoZ7+CQIGtt3vuEGttX9ky0zhd/5pDKIenu2TVjf+aVsDfDpBdNMfucDMtfU3W85ghn77kdxOMC3N8JNf283asbDy1Aidj+guRL4zu9vKOAHABV0xOWkC7DVAAAAAElFTkSuQmCC"></a></div>
</div>
		</aside><aside id="mc_widget_214850853-2" class="widget widget_mc_widget_214850853"><h3 class="widget-title">よい物リスト</h3><div style="text-align:left;padding-bottom:20px;font-size:small"><div style="float:left;margin:0 15px 10px 0"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4797392584%2Fref%3Dnosim" target="_blank"><img src="https://images-fe.ssl-images-amazon.com/images/I/51DVfjQ%2BP6L._SL160_.jpg" style="border:none" /></a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></div><div style="line-height:120%"><div style="margin-bottom:10px;line-height:120%;overflow:hidden"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4797392584%2Fref%3Dnosim" target="_blank">やさしいC 第5版 (「やさしい」シリーズ)</a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></div><div style="margin-top:10px;overflow:hidden"><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fgp%2Fsearch%3Fkeywords%3DC%25E8%25A8%2580%25E8%25AA%259E%26__mk_ja_JP%3D%25E3%2582%25AB%25E3%2582%25BF%25E3%2582%25AB%25E3%2583%258A" target="_blank">Amazon</a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></span><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=371293&p_id=54&pc_id=54&pl_id=616&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FC%25E8%25A8%2580%25E8%25AA%259E%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0" target="_blank">楽天市場</a><img src="//i.moshimo.com/af/i/impression?a_id=371293&p_id=54&pc_id=54&pl_id=616" width="1" height="1" style="border:none"></span><span style="margin-right:5px"><a href="//ck.jp.ap.valuecommerce.com/servlet/referral?sid=3058386&pid=881893837&vc_url=http%3A%2F%2Fsearch.shopping.yahoo.co.jp%2Fsearch%3Fp%3DC%25E8%25A8%2580%25E8%25AA%259E" target="_blank">Yahooショッピング<img src="//ad.jp.ap.valuecommerce.com/servlet/gifbanner?sid=3058386&pid=881893837" height="1" width="1" border="0"></a></span><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=623330&p_id=932&pc_id=1188&pl_id=12456&s_v=b5Rz2P0601xu&url=http%3A%2F%2F7net.omni7.jp%2Fsearch%2F%3Fkeyword%3DC%25E8%25A8%2580%25E8%25AA%259E%26searchKeywordFlg%3D1" target="_blank"><img src="//i.moshimo.com/af/i/impression?a_id=623330&p_id=932&pc_id=1188&pl_id=12456" width="1" height="1" style="border:none">7net</a></span><div style="margin-top:15px">やさC 入門書</div></div></div><div style="clear:both"></div></div><div style="text-align:left;padding-bottom:20px;font-size:small"><div style="float:left;margin:0 15px 10px 0"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4798030147%2Fref%3Dnosim" target="_blank"><img src="https://images-fe.ssl-images-amazon.com/images/I/41NXXKmUQSL._SL160_.jpg" style="border:none" /></a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></div><div style="line-height:120%"><div style="margin-bottom:10px;line-height:120%;overflow:hidden"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4798030147%2Fref%3Dnosim" target="_blank">苦しんで覚えるC言語</a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></div><div style="margin-top:10px;overflow:hidden"><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fgp%2Fsearch%3Fkeywords%3DC%25E8%25A8%2580%25E8%25AA%259E%26__mk_ja_JP%3D%25E3%2582%25AB%25E3%2582%25BF%25E3%2582%25AB%25E3%2583%258A" target="_blank">Amazon</a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></span><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=371293&p_id=54&pc_id=54&pl_id=616&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FC%25E8%25A8%2580%25E8%25AA%259E%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0" target="_blank">楽天市場</a><img src="//i.moshimo.com/af/i/impression?a_id=371293&p_id=54&pc_id=54&pl_id=616" width="1" height="1" style="border:none"></span><span style="margin-right:5px"><a href="//ck.jp.ap.valuecommerce.com/servlet/referral?sid=3058386&pid=881893837&vc_url=http%3A%2F%2Fsearch.shopping.yahoo.co.jp%2Fsearch%3Fp%3DC%25E8%25A8%2580%25E8%25AA%259E" target="_blank">Yahooショッピング<img src="//ad.jp.ap.valuecommerce.com/servlet/gifbanner?sid=3058386&pid=881893837" height="1" width="1" border="0"></a></span><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=623330&p_id=932&pc_id=1188&pl_id=12456&s_v=b5Rz2P0601xu&url=http%3A%2F%2F7net.omni7.jp%2Fsearch%2F%3Fkeyword%3DC%25E8%25A8%2580%25E8%25AA%259E%26searchKeywordFlg%3D1" target="_blank"><img src="//i.moshimo.com/af/i/impression?a_id=623330&p_id=932&pc_id=1188&pl_id=12456" width="1" height="1" style="border:none">7net</a></span><div style="margin-top:15px">くるC 入門書</div></div></div><div style="clear:both"></div></div><div style="text-align:left;padding-bottom:20px;font-size:small"><div style="float:left;margin:0 15px 10px 0"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4320026926%2Fref%3Dnosim" target="_blank"><img src="https://images-fe.ssl-images-amazon.com/images/I/41W69WGATNL._SL160_.jpg" style="border:none" /></a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></div><div style="line-height:120%"><div style="margin-bottom:10px;line-height:120%;overflow:hidden"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fexec%2Fobidos%2FASIN%2F4320026926%2Fref%3Dnosim" target="_blank">プログラミング言語C 第2版 ANSI規格準拠</a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></div><div style="margin-top:10px;overflow:hidden"><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=371288&p_id=170&pc_id=185&pl_id=4062&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fwww.amazon.co.jp%2Fgp%2Fsearch%3Fkeywords%3DC%25E8%25A8%2580%25E8%25AA%259E%26__mk_ja_JP%3D%25E3%2582%25AB%25E3%2582%25BF%25E3%2582%25AB%25E3%2583%258A" target="_blank">Amazon</a><img src="//i.moshimo.com/af/i/impression?a_id=371288&p_id=170&pc_id=185&pl_id=4062" width="1" height="1" style="border:none"></span><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=371293&p_id=54&pc_id=54&pl_id=616&s_v=b5Rz2P0601xu&url=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FC%25E8%25A8%2580%25E8%25AA%259E%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0" target="_blank">楽天市場</a><img src="//i.moshimo.com/af/i/impression?a_id=371293&p_id=54&pc_id=54&pl_id=616" width="1" height="1" style="border:none"></span><span style="margin-right:5px"><a href="//ck.jp.ap.valuecommerce.com/servlet/referral?sid=3058386&pid=881893837&vc_url=http%3A%2F%2Fsearch.shopping.yahoo.co.jp%2Fsearch%3Fp%3DC%25E8%25A8%2580%25E8%25AA%259E" target="_blank">Yahooショッピング<img src="//ad.jp.ap.valuecommerce.com/servlet/gifbanner?sid=3058386&pid=881893837" height="1" width="1" border="0"></a></span><span style="margin-right:5px"><a href="//af.moshimo.com/af/c/click?a_id=623330&p_id=932&pc_id=1188&pl_id=12456&s_v=b5Rz2P0601xu&url=http%3A%2F%2F7net.omni7.jp%2Fsearch%2F%3Fkeyword%3DC%25E8%25A8%2580%25E8%25AA%259E%26searchKeywordFlg%3D1" target="_blank"><img src="//i.moshimo.com/af/i/impression?a_id=623330&p_id=932&pc_id=1188&pl_id=12456" width="1" height="1" style="border:none">7net</a></span><div style="margin-top:15px">K&Rはまだ早い</div></div></div><div style="clear:both"></div></div></aside>					</div><!-- #secondary -->
	</div><footer id="colophon" role="contentinfo"><div class="site-info">Copyright (C) 2012-2018 <a href="http://marycore.jp/" title="Think Difficult. (；･`д･´)">MaryCore</a>. All rights reserved.</div></footer></div>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-37354401-1','auto');ga('send','pageview');</script><script>
(function(){var c=document.getElementById("site-navigation");if(c){var a=c.getElementsByTagName("button")[0];if(a){var b=c.getElementsByTagName("ul")[0];if(!b||!b.childNodes.length)return a.style.display="none";a.onclick=function(){-1===b.className.indexOf("nav-menu")&&(b.className="nav-menu");-1!==a.className.indexOf("toggled-on")?(a.className=a.className.replace(" toggled-on",""),b.className=b.className.replace(" toggled-on","")):(a.className+=" toggled-on",b.className+=" toggled-on")}}}})();</script>
<script>function mc_social_buttons_open(a,w,h){open(a,'_blank','width='+w+',height='+h+',left='+(screen.availWidth-w)/2+',top='+(screen.availHeight-h)/2);return!1}</script>
</body></html>